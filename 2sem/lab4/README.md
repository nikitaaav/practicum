# Обработка событий в pygame. Создание спрайтов и группы спрайтов в парадигме объектно-ориентированного программирования. Коллизия объектов.

**Цель работы:** освоить на практике основные методы обработки событий, научиться создавать классы для работы с изображениями и реализовывать взаимодействие объектов в pygame.

**Задачи для выполнения:**
1. Изучить исходный код игры-аркады.
2. Описать механизм гравитации (классы и методы).
3. Описать принцип движения стрелы (классы и методы).
4. Разобрать процесс коллизии объектов (классы и методы).
5. Реализовать корректное закрытие программы при нажатии на "крестик".
6. Модифицировать меню подсказок.
7. Добавить главному персонажу дополнительные жизни.
8. Создать собственный уровень, заменив существующий второй уровень.

---

## Ход работы

### **1. Процесс гравитации**
- Гравитация реализована для каждого персонажа через метод `gravitate`, описанный в модуле `base_sprites`.
- Этот метод обеспечивает плавное падение объектов, имитируя физическое поведение тел под действием силы тяжести.
- Гравитация учитывается путем увеличения вертикальной скорости объекта на каждом кадре и последующего обновления его позиции.

---

### **2. Процесс движения стрелы**
- Движение стрелы реализовано в методе `fire`, который вызывается при выстреле.
- Стрелы представлены как спрайты с заданной скоростью и без гравитации.
- При столкновении с другим объектом стрела выполняет определенные действия (например, уничтожает цель).
- Логика движения стрелы реализована таким образом, чтобы она перемещалась по экрану до тех пор, пока не столкнется с препятствием или не покинет игровое поле.

---

### **3. Процесс коллизии объектов**
- Коллизия объектов обрабатывается с помощью проверки пересечения спрайтов.
- Если стрела (`Fire`) попадает в объект, то вызывается метод `die` у цели, и оба спрайта удаляются из игры.
- Для проверки столкновений используется встроенная функциональность pygame, которая позволяет эффективно работать с группами спрайтов.

---

### **4. Закрытие программы по "крестику"**
- Корректное завершение программы организовано через обработку события `pygame.QUIT`.
- При возникновении этого события программа завершает выполнение, освобождая ресурсы и закрывая окно.

---

### **5. Меню подсказок**
- В метод `gameclass/show_menu` добавлено отображение подсказок для пользователя.
- Подсказки информируют игрока о доступных действиях, таких как управление персонажем, использование стрел и другие механики игры.
- Текст подсказок адаптирован для удобства восприятия и соответствует текущему состоянию игры.

---

### **6. Добавление жизней главному игроку**
- Главному персонажу добавлены дополнительные жизни через константу `constants/HERO_START_LIVES`.
- Количество жизней отображается на экране и уменьшается при столкновении с врагами или другими опасностями.
- Если жизни заканчиваются, игра завершается, и игрок получает возможность начать заново.

---

### **7. Создание собственного уровня**
- Вместо существующего второго уровня разработан новый, ориентированный на обучение игрока управлению с помощью стрелок.
- Уровень не содержит врагов и фокусируется на базовых механиках: движение персонажа, прыжки и использование стрел.
- Дизайн уровня создан таким образом, чтобы постепенно усложнять задачи и помогать игроку освоить управление.

---

Таким образом, все поставленные задачи были успешно выполнены: реализованы гравитация, движение стрел, обработка коллизий, закрытие программы, модификация меню, добавление жизней и создание нового уровня.
